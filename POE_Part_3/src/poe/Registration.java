/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
//**************************************************************************************//
//package that contains the program
package poe;  
//**************************************************************************************//
 
//**************************************************************************************//
//import JOptionPane to get user input
import javax.swing.JOptionPane;
//**************************************************************************************//
 
/**
 *
 * @author dylan
 */
//**************************************************************************************//
//main class call line
public class Registration {
//**************************************************************************************//
    
    //**************************************************************************************//
    //declare variables
    private String username;
    private String password;
    private String firstName;
    private String surname;
    //**************************************************************************************//
    
    //**************************************************************************************//
    //constructor
    public Registration()
    {
        
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    // Method to register a user
    public String registerUser() {
    //**************************************************************************************//
    // Get the username and check its validity
    String username = getValidUsername();
    //**************************************************************************************//
    
    //**************************************************************************************//
    // Get the password and check its validity
    String password = getValidPassword();
    //**************************************************************************************//
    
    //**************************************************************************************//
    // Get the first name and check its validity
    String firstName = getValidFirstName();
    //**************************************************************************************//
    
    //**************************************************************************************//
    // Get the surname and check its validity
    String surname = getValidSurname();
    //**************************************************************************************//

    //**************************************************************************************//
    // Return a success message
    return "User registered successfully.";
    //**************************************************************************************//
    }
    //**************************************************************************************////**************************************************************************************//

    //**************************************************************************************//
    // Method to get a valid username
    private String getValidUsername() {
        //**************************************************************************************//
        // Initialize username and validity check
        String username = "";
        boolean valid = false;
        //**************************************************************************************//

        //**************************************************************************************//
        // Loop until a valid username is entered
        while (!valid) {
            //**************************************************************************************//
            // Prompt user for username
            username = JOptionPane.showInputDialog("Enter your username:");
            //**************************************************************************************//

            //**************************************************************************************//
             // Check if user canceled input
                if (username == null) 
                {
                  cancleProgram();
                }
            //**************************************************************************************//
            
            //**************************************************************************************//
            // Check if username is valid
            valid = checkUserName(username);
            //**************************************************************************************//

            //**************************************************************************************//
            // If username is not valid, show error message
            if (!valid) {
                JOptionPane.showMessageDialog(null, "Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length");
            }
            //**************************************************************************************//
        }
        //**************************************************************************************//
        // Set the username and show success message
        setUsername(username);
        JOptionPane.showMessageDialog(null, "Username successfully captured");
        //**************************************************************************************//

        //**************************************************************************************//
        // Return the valid username
        return username;
        //**************************************************************************************//
        }
        //**************************************************************************************//

        //**************************************************************************************//
        // Method to get a valid password
    private String getValidPassword() {
          //**************************************************************************************//
          // Initialize password and validity check
          String password = "";
          boolean valid = false;
          //**************************************************************************************//

        //**************************************************************************************//
            // Loop until a valid password is entered
         while (!valid) {
             //**************************************************************************************//
                // Prompt user for password
               password = JOptionPane.showInputDialog("Enter your Password:");
               //**************************************************************************************//
            
               //**************************************************************************************//
             // Check if user canceled input
                if (password == null) 
                {
                  cancleProgram();
                }
            //**************************************************************************************//
               
             //**************************************************************************************//
              // Check if password is valid
              valid = checkPasswordComplexity(password);
              //**************************************************************************************//

               //**************************************************************************************//
               // If password is not valid, show error message
               if (!valid) {
                    JOptionPane.showMessageDialog(null, "Password is not correctly formatted, please ensure that the password contains at least 8 characters, a capital letter, a number, and a special character");
                }
               //**************************************************************************************//
         }
         //**************************************************************************************//
         // Set the password and show success message
         setPassword(password);
         JOptionPane.showMessageDialog(null, "Password successfully captured");
            //**************************************************************************************//

         //**************************************************************************************//
         // Return the valid password
          return password;
         //**************************************************************************************//
    }
    //**************************************************************************************//

    //**************************************************************************************//
    // Method to get a valid first name
    private String getValidFirstName() {
        //**************************************************************************************//
         // Initialize first name and validity check
        String firstName = "";
        boolean valid = false;
        //**************************************************************************************//

         //**************************************************************************************//
         // Loop until a valid first name is entered
        while (!valid) {
            //**************************************************************************************//
            // Prompt user for first name
            firstName = JOptionPane.showInputDialog("Enter your First name:");
            //**************************************************************************************//

            //**************************************************************************************//
             // Check if user canceled input
                if (firstName == null) 
                {
                    cancleProgram();
                }
            //**************************************************************************************//
            
            //**************************************************************************************//
            // Check if first name is valid
            valid = checkFirstName(firstName);
            //**************************************************************************************//

            //**************************************************************************************//
            // If first name is not valid, show error message
            if (!valid) {
               JOptionPane.showMessageDialog(null, "First name must contain at least one character");
            }
            //**************************************************************************************//
        }
        //**************************************************************************************//
        // Set the first name and show success message
        setFirstName(firstName);
        JOptionPane.showMessageDialog(null, "First name successfully captured");
        //**************************************************************************************//

        //**************************************************************************************//
        // Return the valid first name
        return firstName;
        //**************************************************************************************//
    }
    //**************************************************************************************//

    //**************************************************************************************//
    // Method to get a valid surname
    private String getValidSurname() {
        //**************************************************************************************//
        // Initialize surname and validity check
        String surname = "";
        boolean valid = false;
        //**************************************************************************************//

        //**************************************************************************************//
        // Loop until a valid surname is entered
        while (!valid) {
            //**************************************************************************************//
            // Prompt user for surname
            surname = JOptionPane.showInputDialog("Enter your Surname:");
            //**************************************************************************************//

            //**************************************************************************************//
             // Check if user canceled input
                if (surname == null) 
                {
                    cancleProgram();
                }
            //**************************************************************************************//
            
            //**************************************************************************************//
            // Check if surname is valid
            valid = checkSurname(surname);
            //**************************************************************************************//

            //**************************************************************************************//
            // If surname is not valid, show error message
            if (!valid) {
            JOptionPane.showMessageDialog(null, "Surname must contain at least one character");
           }
           //**************************************************************************************//
        }
        //**************************************************************************************//
        // Set the surname and show success message
        setSurname(surname);
        JOptionPane.showMessageDialog(null, "Surname successfully captured");
        //**************************************************************************************//

        //**************************************************************************************//
        // Return the valid surname
        return surname;
        //**************************************************************************************//
    }
    //**************************************************************************************//
   
     //**************************************************************************************//
     //check if username is valid
    public boolean checkUserName(String username)
    {
        //**************************************************************************************//
        //check if username is valid
        if(username.contains("_") && username.length() <= 5)
        {
            //**************************************************************************************//
            //return true
            return true;
            //**************************************************************************************//
        }
        else{
            //**************************************************************************************//
            //return if false
            return false;
            //**************************************************************************************//
        }
        //**************************************************************************************//
        
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    public boolean checkPasswordComplexity(String Password)
    {
       //check if password has 8 characters
        //checks if the String Password contains capital letters
        //checks if the String Password contains contains numbers
        //checks if the String Password contains contains Special characters
        if(Password.length() >= 8
                && Password.matches(".*[A-Z].*")
                && Password.matches(".*[0-9].*")
                && Password.matches(".*[^a-zA-Z0-9].*"))
        {
            //**************************************************************************************//
            //return true
            return true;
            //**************************************************************************************//
        }
        else{
            //**************************************************************************************//
            //return false
            return false;
            //**************************************************************************************//
        }
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    //check first name contains characters
    public boolean checkFirstName(String FN)
    {
        //**************************************************************************************//
        //declarations
        boolean check = false;
        //**************************************************************************************//
        
        //**************************************************************************************//
        //check if username is valid
        if(!FN.isBlank() || !FN.isEmpty())
        {
            //**************************************************************************************//
            //return true
            check =  true;
            //**************************************************************************************//
        }
        else{
            //**************************************************************************************//
            //return if false
            check =  false;
            //**************************************************************************************//
        }
        //**************************************************************************************//
        
        //**************************************************************************************//
        //check if user cancelled input
        if (FN.equals("No First Name was given."))
        {
            check = false;
        }
        //**************************************************************************************//
        
        //**************************************************************************************//
        //return boolean
        return check;
        //**************************************************************************************//
        
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    //check first name contains characters
    public boolean checkSurname(String SN)
    {
        //**************************************************************************************//
        //decalration
        boolean check = false;
        //**************************************************************************************//
        
        //**************************************************************************************//
        //check if username is valid
        if(!SN.isBlank() || !SN.isEmpty())
        {
            //**************************************************************************************//
            //return true
            check = true;
            //**************************************************************************************//
        }
        else{
            //**************************************************************************************//
            //return if false
            check = false;
            //**************************************************************************************//
        }
        //**************************************************************************************//
        
        //**************************************************************************************//
        //check if user cancelled input
        if (SN.equals("No Surname Was Given."))
        {
            check = false;
        }
        //**************************************************************************************//
        
        //**************************************************************************************//
        //return boolean
        return check;
        //**************************************************************************************//
        
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    //getter and setter methods
    
    //**************************************************************************************//
    // Getter and setter for username
    public String getUsername() {
        //**************************************************************************************//
        //return value
        return username;
        //**************************************************************************************//
    }

    public void setUsername(String username) {
        //**************************************************************************************//
        //set value
        this.username = username;
        //**************************************************************************************//
    }
    //**************************************************************************************//
    
//**************************************************************************************//
    // Getter and setter for password
    public String getPassword() {
        //**************************************************************************************//
        //return value
        return password;
        //**************************************************************************************//
    }

    public void setPassword(String password) {
        //**************************************************************************************//
        //set value
        this.password = password;
        //**************************************************************************************//
    }
    //**************************************************************************************//

    //**************************************************************************************//
    // Getter and setter for firstName
    public String getFirstName() {
        //**************************************************************************************//
        //return value
        return firstName;
        //**************************************************************************************//
    }

    public void setFirstName(String firstName) {
        //**************************************************************************************//
        //set value
        this.firstName = firstName;
        //**************************************************************************************//
    }
    //**************************************************************************************//
    
    //**************************************************************************************//
    // Getter and setter for surname
    public String getSurname() {
        //**************************************************************************************//
        //return value
        return surname;
        //**************************************************************************************//
    }

    public void setSurname(String surname) {
        //**************************************************************************************//
        //set this code
        this.surname = surname;
        //**************************************************************************************//
    }
    //**************************************************************************************//
//**************************************************************************************//
    
    //**************************************************************************************//
    //cancle program message and action
    public static void cancleProgram()
    {
        JOptionPane.showMessageDialog(null, "You chose to quite the program");
        System.exit(0);
    }
    //**************************************************************************************//
    
}
//***********************************END OF FILE****************************************//